import{g as W}from"./_commonjsHelpers.Cpj98o6Y.js";function U(A,x){for(var O=0;O<x.length;O++){const C=x[O];if(typeof C!="string"&&!Array.isArray(C)){for(const L in C)if(L!=="default"&&!(L in A)){const E=Object.getOwnPropertyDescriptor(C,L);E&&Object.defineProperty(A,L,E.get?E:{enumerable:!0,get:()=>C[L]})}}}return Object.freeze(Object.defineProperty(A,Symbol.toStringTag,{value:"Module"}))}var P={exports:{}},k;function V(){return k||(k=1,(function(A,x){(function(O,C){A.exports=C()})(self,(()=>(()=>{var O={223:(E,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.BREAKPOINTS=h.COMBO_BOX_ACCESSIBILITY_KEY_SET=h.SELECT_ACCESSIBILITY_KEY_SET=h.TABS_ACCESSIBILITY_KEY_SET=h.OVERLAY_ACCESSIBILITY_KEY_SET=h.DROPDOWN_ACCESSIBILITY_KEY_SET=h.POSITIONS=void 0,h.POSITIONS={auto:"auto","auto-start":"auto-start","auto-end":"auto-end",top:"top","top-left":"top-start","top-right":"top-end",bottom:"bottom","bottom-left":"bottom-start","bottom-right":"bottom-end",right:"right","right-start":"right-start","right-end":"right-end",left:"left","left-start":"left-start","left-end":"left-end"},h.DROPDOWN_ACCESSIBILITY_KEY_SET=["Escape","ArrowUp","ArrowDown","ArrowRight","ArrowLeft","Home","End","Enter"],h.OVERLAY_ACCESSIBILITY_KEY_SET=["Escape","Tab"],h.TABS_ACCESSIBILITY_KEY_SET=["ArrowUp","ArrowLeft","ArrowDown","ArrowRight","Home","End"],h.SELECT_ACCESSIBILITY_KEY_SET=["ArrowUp","ArrowLeft","ArrowDown","ArrowRight","Home","End","Escape","Enter","Space","Tab"],h.COMBO_BOX_ACCESSIBILITY_KEY_SET=["ArrowUp","ArrowLeft","ArrowDown","ArrowRight","Home","End","Escape","Enter"],h.BREAKPOINTS={xs:0,sm:640,md:768,lg:1024,xl:1280,"2xl":1536}},248:(E,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.default=class{constructor(){this.components=[],this.currentlyOpenedComponents=[],this.activeComponent=null,this.allowedKeybindings=new Set(["Escape","Enter"," ","Space","ArrowDown","ArrowUp","ArrowLeft","ArrowRight","Tab","Home","End"]),this.initGlobalListeners()}initGlobalListeners(){document.addEventListener("keydown",(a=>this.handleGlobalKeydown(a))),document.addEventListener("focusin",(a=>this.handleGlobalFocusin(a)))}isAllowedKeybinding(a){return!!this.allowedKeybindings.has(a.key)||!(a.key.length!==1||!/^[a-zA-Z]$/.test(a.key)||a.metaKey||a.ctrlKey||a.altKey||a.shiftKey)}getActiveComponent(a){if(!a)return null;const c=this.components.filter((g=>g.wrapper.contains(a)||g.context&&g.context.contains(a)));if(c.length===0)return null;if(c.length===1)return c[0];let I=null,l=Number.MAX_SAFE_INTEGER;for(const g of c){let v=0,m=a;for(;m&&m!==g.wrapper&&m!==g.context;)v++,m=m.parentElement;v<l&&(l=v,I=g)}return I}handleGlobalFocusin(a){const c=a.target;this.activeComponent=this.getActiveComponent(c)}handleGlobalKeydown(a){const c=a.target;if(this.activeComponent=this.getActiveComponent(c),this.activeComponent&&this.isAllowedKeybinding(a))switch(a.key){case"Escape":if(this.activeComponent.isOpened)this.activeComponent.handlers.onEsc&&(this.activeComponent.handlers.onEsc(),a.preventDefault(),a.stopPropagation());else{const l=this.findClosestOpenParent(c);l?.handlers.onEsc&&(l.handlers.onEsc(),a.preventDefault(),a.stopPropagation())}break;case"Enter":this.activeComponent.handlers.onEnter&&(this.activeComponent.handlers.onEnter(),a.preventDefault(),a.stopPropagation());break;case" ":case"Space":if(c.tagName==="INPUT"||c.tagName==="TEXTAREA")return;this.activeComponent.handlers.onSpace&&(this.activeComponent.handlers.onSpace(),a.preventDefault(),a.stopPropagation());break;case"ArrowDown":case"ArrowUp":case"ArrowLeft":case"ArrowRight":if(this.activeComponent.handlers.onArrow){if(a.metaKey||a.ctrlKey||a.altKey||a.shiftKey)return;this.activeComponent.handlers.onArrow(a),a.preventDefault(),a.stopPropagation()}break;case"Tab":if(!this.activeComponent.handlers.onTab)break;const I=a.shiftKey?this.activeComponent.handlers.onShiftTab:this.activeComponent.handlers.onTab;I&&I();break;case"Home":this.activeComponent.handlers.onHome&&(this.activeComponent.handlers.onHome(),a.preventDefault(),a.stopPropagation());break;case"End":this.activeComponent.handlers.onEnd&&(this.activeComponent.handlers.onEnd(),a.preventDefault(),a.stopPropagation());break;default:this.activeComponent.handlers.onFirstLetter&&a.key.length===1&&/^[a-zA-Z]$/.test(a.key)&&(this.activeComponent.handlers.onFirstLetter(a.key),a.preventDefault(),a.stopPropagation())}}findClosestOpenParent(a){let c=a.parentElement;for(;c;){const I=this.currentlyOpenedComponents.find((l=>l.wrapper===c&&l!==this.activeComponent));if(I)return I;c=c.parentElement}return null}registerComponent(a,c,I=!0,l="",g="",v){const m={wrapper:a,handlers:c,isOpened:I,name:l,selector:g,context:v,isRegistered:!0};return this.components.push(m),m}updateComponentState(a,c){a.isOpened=c,c?this.currentlyOpenedComponents.includes(a)||this.currentlyOpenedComponents.push(a):this.currentlyOpenedComponents=this.currentlyOpenedComponents.filter((I=>I!==a))}unregisterComponent(a){this.components=this.components.filter((c=>c!==a)),this.currentlyOpenedComponents=this.currentlyOpenedComponents.filter((c=>c!==a))}addAllowedKeybinding(a){this.allowedKeybindings.add(a)}removeAllowedKeybinding(a){this.allowedKeybindings.delete(a)}getAllowedKeybindings(){return Array.from(this.allowedKeybindings)}}},292:function(E,h){/*
 * @version: 3.2.3
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */Object.defineProperty(h,"__esModule",{value:!0}),h.stringToBoolean=h.menuSearchHistory=h.isScrollable=h.isParentOrElementHidden=h.isJson=h.isIpadOS=h.isIOS=h.isFormElement=h.isFocused=h.isEnoughSpace=h.isDirectChild=h.htmlToElement=h.getZIndex=h.getHighestZIndex=h.getClassPropertyAlt=h.getClassProperty=h.dispatch=h.debounce=h.classToClassList=h.afterTransition=void 0,h.stringToBoolean=l=>l==="true",h.getClassProperty=(l,g,v="")=>(window.getComputedStyle(l).getPropertyValue(g)||v).replace(" ",""),h.getClassPropertyAlt=(l,g,v="")=>{let m="";return l.classList.forEach((w=>{w.includes(g)&&(m=w)})),m.match(/:(.*)]/)?m.match(/:(.*)]/)[1]:v};const a=l=>window.getComputedStyle(l).getPropertyValue("z-index");h.getZIndex=a,h.getHighestZIndex=l=>{let g=Number.NEGATIVE_INFINITY;return l.forEach((v=>{let m=a(v);m!=="auto"&&(m=parseInt(m,10),m>g&&(g=m))})),g},h.isDirectChild=(l,g)=>{const v=l.children;for(let m=0;m<v.length;m++)if(v[m]===g)return!0;return!1},h.isEnoughSpace=(l,g,v="auto",m=10,w=null)=>{const b=g.getBoundingClientRect(),t=w?w.getBoundingClientRect():null,e=window.innerHeight,s=t?b.top-t.top:b.top,o=(w?t.bottom:e)-b.bottom,n=l.clientHeight+m;return v==="bottom"?o>=n:v==="top"?s>=n:s>=n||o>=n},h.isFocused=l=>document.activeElement===l,h.isFormElement=l=>l instanceof HTMLInputElement||l instanceof HTMLTextAreaElement||l instanceof HTMLSelectElement,h.isIOS=()=>!!/iPad|iPhone|iPod/.test(navigator.platform)||navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),h.isIpadOS=()=>navigator.maxTouchPoints&&navigator.maxTouchPoints>2&&/MacIntel/.test(navigator.platform),h.isJson=l=>{if(typeof l!="string")return!1;const g=l.trim()[0],v=l.trim().slice(-1);if(g==="{"&&v==="}"||g==="["&&v==="]")try{return JSON.parse(l),!0}catch{return!1}return!1};const c=l=>l?window.getComputedStyle(l).display==="none"||c(l.parentElement):!1;h.isParentOrElementHidden=c,h.isScrollable=l=>{const g=window.getComputedStyle(l),v=g.overflowY,m=g.overflowX,w=(v==="scroll"||v==="auto")&&l.scrollHeight>l.clientHeight,b=(m==="scroll"||m==="auto")&&l.scrollWidth>l.clientWidth;return w||b},h.debounce=(l,g=200)=>{let v;return(...m)=>{clearTimeout(v),v=setTimeout((()=>{l.apply(this,m)}),g)}},h.dispatch=(l,g,v=null)=>{const m=new CustomEvent(l,{detail:{payload:v},bubbles:!0,cancelable:!0,composed:!1});g.dispatchEvent(m)},h.afterTransition=(l,g)=>{const v=()=>{g(),l.removeEventListener("transitionend",v,!0)},m=window.getComputedStyle(l),w=m.getPropertyValue("transition-duration");m.getPropertyValue("transition-property")!=="none"&&parseFloat(w)>0?l.addEventListener("transitionend",v,!0):g()},h.htmlToElement=l=>{const g=document.createElement("template");return l=l.trim(),g.innerHTML=l,g.content.firstChild},h.classToClassList=(l,g,v=" ",m="add")=>{l.split(v).forEach((w=>{w.trim()&&(m==="add"?g.classList.add(w):g.classList.remove(w))}))};const I={historyIndex:-1,addHistory(l){this.historyIndex=l},existsInHistory(l){return l>this.historyIndex},clearHistory(){this.historyIndex=-1}};h.menuSearchHistory=I},442:function(E,h,a){/*
 * HSSelect
 * @version: 3.2.3
 * @author: Preline Labs Ltd.
 * @license: Licensed under MIT and Preline UI Fair Use License (https://preline.co/docs/license.html)
 * Copyright 2024 Preline Labs Ltd.
 */var c=this&&this.__awaiter||function(b,t,e,s){return new(e||(e=Promise))((function(o,n){function r(u){try{p(s.next(u))}catch(i){n(i)}}function d(u){try{p(s.throw(u))}catch(i){n(i)}}function p(u){var i;u.done?o(u.value):(i=u.value,i instanceof e?i:new e((function(S){S(i)}))).then(r,d)}p((s=s.apply(b,t||[])).next())}))},I=this&&this.__importDefault||function(b){return b&&b.__esModule?b:{default:b}};Object.defineProperty(h,"__esModule",{value:!0});const l=a(292),g=I(a(961)),v=I(a(248)),m=a(223);class w extends g.default{constructor(t,e){var s,o,n,r,d;super(t,e),this.disabledObserver=null,this.optionId=0;const p=t.getAttribute("data-hs-select"),u=p?JSON.parse(p):{},i=Object.assign(Object.assign({},u),e);this.value=i?.value||this.el.value||null,this.placeholder=i?.placeholder||"Select...",this.hasSearch=i?.hasSearch||!1,this.minSearchLength=(s=i?.minSearchLength)!==null&&s!==void 0?s:0,this.preventSearchFocus=i?.preventSearchFocus||!1,this.mode=i?.mode||"default",this.viewport=i?.viewport!==void 0?document.querySelector(i?.viewport):null,this._isOpened=!!i?.isOpened||!1,this.isMultiple=this.el.hasAttribute("multiple")||!1,this.isDisabled=this.el.hasAttribute("disabled")||!1,this.selectedItems=[],this.apiUrl=i?.apiUrl||null,this.apiQuery=i?.apiQuery||null,this.apiOptions=i?.apiOptions||null,this.apiSearchQueryKey=i?.apiSearchQueryKey||null,this.apiDataPart=i?.apiDataPart||null,this.apiLoadMore=i?.apiLoadMore===!0?{perPage:10,scrollThreshold:100}:typeof i?.apiLoadMore=="object"&&i?.apiLoadMore!==null&&{perPage:i.apiLoadMore.perPage||10,scrollThreshold:i.apiLoadMore.scrollThreshold||100},this.apiFieldsMap=i?.apiFieldsMap||null,this.apiIconTag=i?.apiIconTag||null,this.apiSelectedValues=i?.apiSelectedValues||null,this.currentPage=0,this.isLoading=!1,this.hasMore=!0,this.wrapperClasses=i?.wrapperClasses||null,this.toggleTag=i?.toggleTag||null,this.toggleClasses=i?.toggleClasses||null,this.toggleCountText=typeof i?.toggleCountText===void 0?null:i.toggleCountText,this.toggleCountTextPlacement=i?.toggleCountTextPlacement||"postfix",this.toggleCountTextMinItems=i?.toggleCountTextMinItems||1,this.toggleCountTextMode=i?.toggleCountTextMode||"countAfterLimit",this.toggleSeparators={items:((o=i?.toggleSeparators)===null||o===void 0?void 0:o.items)||", ",betweenItemsAndCounter:((n=i?.toggleSeparators)===null||n===void 0?void 0:n.betweenItemsAndCounter)||"and"},this.tagsItemTemplate=i?.tagsItemTemplate||null,this.tagsItemClasses=i?.tagsItemClasses||null,this.tagsInputId=i?.tagsInputId||null,this.tagsInputClasses=i?.tagsInputClasses||null,this.dropdownTag=i?.dropdownTag||null,this.dropdownClasses=i?.dropdownClasses||null,this.dropdownDirectionClasses=i?.dropdownDirectionClasses||null,this.dropdownSpace=i?.dropdownSpace||10,this.dropdownPlacement=i?.dropdownPlacement||null,this.dropdownVerticalFixedPlacement=i?.dropdownVerticalFixedPlacement||null,this.dropdownScope=i?.dropdownScope||"parent",this.dropdownAutoPlacement=i?.dropdownAutoPlacement||!1,this.searchTemplate=i?.searchTemplate||null,this.searchWrapperTemplate=i?.searchWrapperTemplate||null,this.searchWrapperClasses=i?.searchWrapperClasses||"bg-white p-2 sticky top-0",this.searchId=i?.searchId||null,this.searchLimit=i?.searchLimit||1/0,this.isSearchDirectMatch=i?.isSearchDirectMatch===void 0||i?.isSearchDirectMatch,this.searchClasses=i?.searchClasses||"block w-[calc(100%-32px)] text-sm border-gray-200 rounded-md focus:border-blue-500 focus:ring-blue-500 dark:bg-neutral-900 dark:border-neutral-700 dark:text-neutral-400 py-2 px-3 my-2 mx-4",this.searchPlaceholder=i?.searchPlaceholder||"Search...",this.searchNoResultTemplate=i?.searchNoResultTemplate||"<span></span>",this.searchNoResultText=i?.searchNoResultText||"No results found",this.searchNoResultClasses=i?.searchNoResultClasses||"px-4 text-sm text-gray-800 dark:text-neutral-200",this.optionAllowEmptyOption=i?.optionAllowEmptyOption!==void 0&&i?.optionAllowEmptyOption,this.optionTemplate=i?.optionTemplate||null,this.optionTag=i?.optionTag||null,this.optionClasses=i?.optionClasses||null,this.extraMarkup=i?.extraMarkup||null,this.descriptionClasses=i?.descriptionClasses||null,this.iconClasses=i?.iconClasses||null,this.isAddTagOnEnter=(r=i?.isAddTagOnEnter)===null||r===void 0||r,this.isSelectedOptionOnTop=(d=i?.isSelectedOptionOnTop)!==null&&d!==void 0&&d,this.animationInProcess=!1,this.selectOptions=[],this.remoteOptions=[],this.tagsInputHelper=null,this.disabledObserver=new MutationObserver((S=>{S.some((y=>y.attributeName==="disabled"))&&this.setDisabledState(this.el.hasAttribute("disabled"))})),this.disabledObserver.observe(this.el,{attributes:!0,attributeFilter:["disabled"]}),this.init()}wrapperClick(t){t.target.closest("[data-hs-select-dropdown]")||t.target.closest("[data-tag-value]")||this.tagsInput.focus()}toggleClick(){if(this.isDisabled)return!1;this.toggleFn()}tagsInputFocus(){this._isOpened||this.open()}tagsInputInput(){this.calculateInputWidth()}tagsInputInputSecond(t){this.apiUrl||this.searchOptions(t.target.value)}tagsInputKeydown(t){if(t.key==="Enter"&&this.isAddTagOnEnter){const e=t.target.value;if(this.selectOptions.find((s=>s.val===e)))return!1;this.addSelectOption(e,e),this.buildOption(e,e),this.buildOriginalOption(e,e),this.dropdown.querySelector(`[data-value="${e}"]`).click(),this.resetTagsInputField()}}searchInput(t){const e=t.target.value;this.apiUrl?this.remoteSearch(e):this.searchOptions(e)}setValue(t){this.value=t,this.clearSelections(),Array.isArray(t)?this.mode==="tags"?(this.unselectMultipleItems(),this.selectMultipleItems(),this.selectedItems=[],this.wrapper.querySelectorAll("[data-tag-value]").forEach((e=>e.remove())),this.setTagsItems(),this.reassignTagsInputPlaceholder(this.hasValue()?"":this.placeholder)):(this.toggleTextWrapper.innerHTML=this.hasValue()?this.stringFromValue():this.placeholder,this.unselectMultipleItems(),this.selectMultipleItems()):(this.setToggleTitle(),this.toggle.querySelector("[data-icon]")&&this.setToggleIcon(),this.toggle.querySelector("[data-title]")&&this.setToggleTitle(),this.selectSingleItem())}setDisabledState(t){this.isDisabled=t;const e=this.mode==="tags"?this.wrapper:this.toggle;e?.classList.toggle("disabled",t),t&&this.isOpened()&&this.close()}hasValue(){return this.isMultiple?Array.isArray(this.value)&&this.value.length>0&&this.value.some((t=>t!=null&&t!=="")):this.value!==null&&this.value!==void 0&&this.value!==""}init(){this.createCollection(window.$hsSelectCollection,this),this.build(),typeof window<"u"&&(window.HSAccessibilityObserver||(window.HSAccessibilityObserver=new v.default),this.setupAccessibility())}build(){if(this.el.style.display="none",this.el.children&&Array.from(this.el.children).filter((t=>this.optionAllowEmptyOption||!this.optionAllowEmptyOption&&t.value&&t.value!=="")).forEach((t=>{const e=t.getAttribute("data-hs-select-option");this.selectOptions=[...this.selectOptions,{title:t.textContent,val:t.value,disabled:t.disabled,options:e!=="undefined"?JSON.parse(e):null}]})),this.optionAllowEmptyOption&&!this.value&&(this.value=""),this.isMultiple){const t=Array.from(this.el.children).filter((s=>s.selected)),e=[];t.forEach((s=>{e.push(s.value)})),this.value=e}this.buildWrapper(),this.mode==="tags"?this.buildTags():this.buildToggle(),this.buildDropdown(),this.extraMarkup&&this.buildExtraMarkup()}buildWrapper(){this.wrapper=document.createElement("div"),this.wrapper.classList.add("hs-select","relative"),this.setDisabledState(this.isDisabled),this.mode==="tags"&&(this.onWrapperClickListener=t=>this.wrapperClick(t),this.wrapper.addEventListener("click",this.onWrapperClickListener)),this.wrapperClasses&&(0,l.classToClassList)(this.wrapperClasses,this.wrapper),this.el.before(this.wrapper),this.wrapper.append(this.el)}buildExtraMarkup(){const t=s=>{const o=(0,l.htmlToElement)(s);return this.wrapper.append(o),o},e=s=>{s.classList.contains("--prevent-click")||s.addEventListener("click",(o=>{o.stopPropagation(),this.isDisabled||this.toggleFn()}))};if(Array.isArray(this.extraMarkup))this.extraMarkup.forEach((s=>{const o=t(s);e(o)}));else{const s=t(this.extraMarkup);e(s)}}buildToggle(){var t,e;let s,o;this.toggleTextWrapper=document.createElement("span"),this.toggleTextWrapper.classList.add("truncate"),this.toggle=(0,l.htmlToElement)(this.toggleTag||"<div></div>"),s=this.toggle.querySelector("[data-icon]"),o=this.toggle.querySelector("[data-title]"),!this.isMultiple&&s&&this.setToggleIcon(),!this.isMultiple&&o&&this.setToggleTitle(),this.isMultiple?this.toggleTextWrapper.innerHTML=this.hasValue()?this.stringFromValue():this.placeholder:this.toggleTextWrapper.innerHTML=((t=this.getItemByValue(this.value))===null||t===void 0?void 0:t.title)||this.placeholder,o||this.toggle.append(this.toggleTextWrapper),this.toggleClasses&&(0,l.classToClassList)(this.toggleClasses,this.toggle),this.isDisabled&&this.toggle.classList.add("disabled"),this.wrapper&&this.wrapper.append(this.toggle),!((e=this.toggle)===null||e===void 0)&&e.ariaExpanded&&(this._isOpened?this.toggle.ariaExpanded="true":this.toggle.ariaExpanded="false"),this.onToggleClickListener=()=>this.toggleClick(),this.toggle.addEventListener("click",this.onToggleClickListener)}setToggleIcon(){var t;const e=this.getItemByValue(this.value),s=this.toggle.querySelector("[data-icon]");if(s){s.innerHTML="";const o=(0,l.htmlToElement)(this.apiUrl&&this.apiIconTag?this.apiIconTag||"":((t=e?.options)===null||t===void 0?void 0:t.icon)||"");this.value&&this.apiUrl&&this.apiIconTag&&e[this.apiFieldsMap.icon]&&(o.src=e[this.apiFieldsMap.icon]||""),s.append(o),o?.src?s.classList.remove("hidden"):s.classList.add("hidden")}}setToggleTitle(){const t=this.toggle.querySelector("[data-title]");let e=this.placeholder;if(this.optionAllowEmptyOption&&this.value===""){const s=this.selectOptions.find((o=>o.val===""));e=s?.title||this.placeholder}else if(this.value)if(this.apiUrl){const s=this.remoteOptions.find((o=>`${o[this.apiFieldsMap.val]}`===this.value||`${o[this.apiFieldsMap.title]}`===this.value));s&&(e=s[this.apiFieldsMap.title])}else{const s=this.selectOptions.find((o=>o.val===this.value));s&&(e=s.title)}t?(t.innerHTML=e,t.classList.add("truncate"),this.toggle.append(t)):this.toggleTextWrapper.innerHTML=e}buildTags(){this.isDisabled&&this.wrapper.classList.add("disabled"),this.wrapper.setAttribute("tabindex","0"),this.buildTagsInput(),this.setTagsItems()}reassignTagsInputPlaceholder(t){this.tagsInput.placeholder=t,this.tagsInputHelper.innerHTML=t,this.calculateInputWidth()}buildTagsItem(t){var e,s,o,n,r;const d=this.getItemByValue(t);let p,u,i,S;const y=document.createElement("div");if(y.setAttribute("data-tag-value",t),this.tagsItemClasses&&(0,l.classToClassList)(this.tagsItemClasses,y),this.tagsItemTemplate&&(p=(0,l.htmlToElement)(this.tagsItemTemplate),y.append(p)),((e=d?.options)===null||e===void 0?void 0:e.icon)||this.apiIconTag){const f=(0,l.htmlToElement)(this.apiUrl&&this.apiIconTag?this.apiIconTag:(s=d?.options)===null||s===void 0?void 0:s.icon);this.apiUrl&&this.apiIconTag&&d[this.apiFieldsMap.icon]&&(f.src=d[this.apiFieldsMap.icon]||""),S=p?p.querySelector("[data-icon]"):document.createElement("span"),S.append(f),p||y.append(S)}!p||!p.querySelector("[data-icon]")||!((o=d?.options)===null||o===void 0)&&o.icon||this.apiUrl||this.apiIconTag||d[(n=this.apiFieldsMap)===null||n===void 0?void 0:n.icon]||p.querySelector("[data-icon]").classList.add("hidden"),u=p?p.querySelector("[data-title]"):document.createElement("span"),this.apiUrl&&(!((r=this.apiFieldsMap)===null||r===void 0)&&r.title)&&d[this.apiFieldsMap.title]?u.textContent=d[this.apiFieldsMap.title]:u.textContent=d.title||"",p||y.append(u),p?i=p.querySelector("[data-remove]"):(i=document.createElement("span"),i.textContent="X",y.append(i)),i.addEventListener("click",(()=>{this.value=this.value.filter((f=>f!==t)),this.selectedItems=this.selectedItems.filter((f=>f!==t)),this.hasValue()||this.reassignTagsInputPlaceholder(this.placeholder),this.unselectMultipleItems(),this.selectMultipleItems(),y.remove(),this.triggerChangeEventForNativeSelect()})),this.wrapper.append(y)}getItemByValue(t){return this.apiUrl?this.remoteOptions.find((e=>`${e[this.apiFieldsMap.val]}`===t||e[this.apiFieldsMap.title]===t)):this.selectOptions.find((e=>e.val===t))}setTagsItems(){this.value&&(Array.isArray(this.value)?this.value:this.value!=null?[this.value]:[]).forEach((t=>{this.selectedItems.includes(t)||this.buildTagsItem(t),this.selectedItems=this.selectedItems.includes(t)?this.selectedItems:[...this.selectedItems,t]})),this._isOpened&&this.floatingUIInstance&&this.floatingUIInstance.update()}buildTagsInput(){this.tagsInput=document.createElement("input"),this.tagsInputId&&(this.tagsInput.id=this.tagsInputId),this.tagsInputClasses&&(0,l.classToClassList)(this.tagsInputClasses,this.tagsInput),this.tagsInput.setAttribute("tabindex","-1"),this.onTagsInputFocusListener=()=>this.tagsInputFocus(),this.onTagsInputInputListener=()=>this.tagsInputInput(),this.onTagsInputInputSecondListener=(0,l.debounce)((t=>this.tagsInputInputSecond(t))),this.onTagsInputKeydownListener=t=>this.tagsInputKeydown(t),this.tagsInput.addEventListener("focus",this.onTagsInputFocusListener),this.tagsInput.addEventListener("input",this.onTagsInputInputListener),this.tagsInput.addEventListener("input",this.onTagsInputInputSecondListener),this.tagsInput.addEventListener("keydown",this.onTagsInputKeydownListener),this.wrapper.append(this.tagsInput),setTimeout((()=>{this.adjustInputWidth(),this.reassignTagsInputPlaceholder(this.hasValue()?"":this.placeholder)}))}buildDropdown(){this.dropdown=(0,l.htmlToElement)(this.dropdownTag||"<div></div>"),this.dropdown.setAttribute("data-hs-select-dropdown",""),this.dropdownScope==="parent"&&(this.dropdown.classList.add("absolute"),this.dropdownVerticalFixedPlacement||this.dropdown.classList.add("top-full")),this.dropdown.role="listbox",this.dropdown.tabIndex=-1,this.dropdown.ariaOrientation="vertical",this._isOpened||this.dropdown.classList.add("hidden"),this.dropdownClasses&&(0,l.classToClassList)(this.dropdownClasses,this.dropdown),this.wrapper&&this.wrapper.append(this.dropdown),this.dropdown&&this.hasSearch&&this.buildSearch(),this.selectOptions&&this.selectOptions.forEach(((t,e)=>this.buildOption(t.title,t.val,t.disabled,t.selected,t.options,`${e}`))),this.apiUrl&&this.optionsFromRemoteData(),this.apiUrl||(this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]")),this.dropdownScope==="window"&&this.buildFloatingUI(),this.dropdown&&this.apiLoadMore&&this.setupInfiniteScroll()}setupInfiniteScroll(){this.dropdown.addEventListener("scroll",this.handleScroll.bind(this))}handleScroll(){return c(this,void 0,void 0,(function*(){if(!this.dropdown||this.isLoading||!this.hasMore||!this.apiLoadMore)return;const{scrollTop:t,scrollHeight:e,clientHeight:s}=this.dropdown;e-t-s<(typeof this.apiLoadMore=="object"?this.apiLoadMore.scrollThreshold:100)&&(yield this.loadMore())}))}loadMore(){return c(this,void 0,void 0,(function*(){var t,e,s,o;if(this.apiUrl&&!this.isLoading&&this.hasMore&&this.apiLoadMore){this.isLoading=!0;try{const n=new URL(this.apiUrl),r=((t=this.apiFieldsMap)===null||t===void 0?void 0:t.page)||((e=this.apiFieldsMap)===null||e===void 0?void 0:e.offset)||"page",d=!!(!((s=this.apiFieldsMap)===null||s===void 0)&&s.offset),p=typeof this.apiLoadMore=="object"?this.apiLoadMore.perPage:10;if(d){const T=this.currentPage*p;n.searchParams.set(r,T.toString()),this.currentPage++}else this.currentPage++,n.searchParams.set(r,this.currentPage.toString());n.searchParams.set(((o=this.apiFieldsMap)===null||o===void 0?void 0:o.limit)||"limit",p.toString());const u=yield fetch(n.toString(),this.apiOptions||{}),i=yield u.json(),S=this.apiDataPart?i[this.apiDataPart]:i.results,y=i.count||0,f=this.currentPage*p;S&&S.length>0?(this.remoteOptions=[...this.remoteOptions||[],...S],this.buildOptionsFromRemoteData(S),this.hasMore=f<y):this.hasMore=!1}catch(n){this.hasMore=!1,console.error("Error loading more options:",n)}finally{this.isLoading=!1}}}))}buildFloatingUI(){if(typeof FloatingUIDOM<"u"&&FloatingUIDOM.computePosition){document.body.appendChild(this.dropdown);const t=this.mode==="tags"?this.wrapper:this.toggle,e=[FloatingUIDOM.offset([0,5])];this.dropdownAutoPlacement&&typeof FloatingUIDOM.flip=="function"&&e.push(FloatingUIDOM.flip({fallbackPlacements:["bottom-start","bottom-end","top-start","top-end"]}));const s={placement:m.POSITIONS[this.dropdownPlacement]||"bottom",strategy:"fixed",middleware:e},o=()=>{FloatingUIDOM.computePosition(t,this.dropdown,s).then((({x:r,y:d,placement:p})=>{Object.assign(this.dropdown.style,{position:"fixed",left:`${r}px`,top:`${d}px`,["margin"+(p==="bottom"?"Top":p==="top"?"Bottom":p==="right"?"Left":"Right")]:`${this.dropdownSpace}px`}),this.dropdown.setAttribute("data-placement",p)}))};o();const n=FloatingUIDOM.autoUpdate(t,this.dropdown,o);this.floatingUIInstance={update:o,destroy:n}}else console.error("FloatingUIDOM not found! Please enable it on the page.")}updateDropdownWidth(){const t=this.mode==="tags"?this.wrapper:this.toggle;this.dropdown.style.width=`${t.clientWidth}px`}buildSearch(){let t;this.searchWrapper=(0,l.htmlToElement)(this.searchWrapperTemplate||"<div></div>"),this.searchWrapperClasses&&(0,l.classToClassList)(this.searchWrapperClasses,this.searchWrapper),t=this.searchWrapper.querySelector("[data-input]");const e=(0,l.htmlToElement)(this.searchTemplate||'<input type="text">');this.search=e.tagName==="INPUT"?e:e.querySelector(":scope input"),this.search.placeholder=this.searchPlaceholder,this.searchClasses&&(0,l.classToClassList)(this.searchClasses,this.search),this.searchId&&(this.search.id=this.searchId),this.onSearchInputListener=(0,l.debounce)((s=>this.searchInput(s))),this.search.addEventListener("input",this.onSearchInputListener),t?t.append(e):this.searchWrapper.append(e),this.dropdown.append(this.searchWrapper)}buildOption(t,e,s=!1,o=!1,n,r="1",d){var p;let u=null,i=null,S=null,y=null;const f=(0,l.htmlToElement)(this.optionTag||"<div></div>");if(f.setAttribute("data-value",e),f.setAttribute("data-title-value",t),f.setAttribute("tabIndex",r),f.classList.add("cursor-pointer"),f.setAttribute("data-id",d||`${this.optionId}`),d||this.optionId++,s&&f.classList.add("disabled"),o&&(this.isMultiple?this.value=[...this.value,e]:this.value=e),this.optionTemplate&&(u=(0,l.htmlToElement)(this.optionTemplate),f.append(u)),u?(i=u.querySelector("[data-title]"),i.textContent=t||""):f.textContent=t||"",n){if(n.icon){const T=(0,l.htmlToElement)((p=this.apiIconTag)!==null&&p!==void 0?p:n.icon);if(T.classList.add("max-w-full"),this.apiUrl&&(T.setAttribute("alt",t),T.setAttribute("src",n.icon)),u)S=u.querySelector("[data-icon]"),S.append(T);else{const M=(0,l.htmlToElement)("<div></div>");this.iconClasses&&(0,l.classToClassList)(this.iconClasses,M),M.append(T),f.append(M)}}if(n.description)if(u)y=u.querySelector("[data-description]"),y&&y.append(n.description);else{const T=(0,l.htmlToElement)("<div></div>");T.textContent=n.description,this.descriptionClasses&&(0,l.classToClassList)(this.descriptionClasses,T),f.append(T)}}u&&u.querySelector("[data-icon]")&&!n&&!n?.icon&&u.querySelector("[data-icon]").classList.add("hidden"),this.value&&(this.isMultiple?this.value.includes(e):this.value===e)&&f.classList.add("selected"),s||f.addEventListener("click",(()=>this.onSelectOption(e))),this.optionClasses&&(0,l.classToClassList)(this.optionClasses,f),this.dropdown&&this.dropdown.append(f),o&&this.setNewValue()}buildOptionFromRemoteData(t,e,s=!1,o=!1,n="1",r,d){n?this.buildOption(t,e,s,o,d,n,r):alert("ID parameter is required for generating remote options! Please check your API endpoint have it.")}buildOptionsFromRemoteData(t){t.forEach(((e,s)=>{let o=null,n="",r="";const d={id:"",val:"",title:"",icon:null,description:null,rest:{}};if(Object.keys(e).forEach((p=>{var u;e[this.apiFieldsMap.id]&&(o=e[this.apiFieldsMap.id]),e[this.apiFieldsMap.val]&&(r=`${e[this.apiFieldsMap.val]}`),e[this.apiFieldsMap.title]&&(n=e[this.apiFieldsMap.title],e[this.apiFieldsMap.val]||(r=n)),e[this.apiFieldsMap.icon]&&(d.icon=e[this.apiFieldsMap.icon]),e[(u=this.apiFieldsMap)===null||u===void 0?void 0:u.description]&&(d.description=e[this.apiFieldsMap.description]),d.rest[p]=e[p]})),!this.dropdown.querySelector(`[data-value="${r}"]`)){const p=!!this.apiSelectedValues&&(Array.isArray(this.apiSelectedValues)?this.apiSelectedValues.includes(r):this.apiSelectedValues===r);this.buildOriginalOption(n,r,o,!1,p,d),this.buildOptionFromRemoteData(n,r,!1,p,`${s}`,o,d),p&&(this.isMultiple?(this.value||(this.value=[]),Array.isArray(this.value)&&(this.value=[...this.value,r])):this.value=r)}})),this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]")}optionsFromRemoteData(){return c(this,arguments,void 0,(function*(t=""){const e=yield this.apiRequest(t);this.remoteOptions=e,e.length?this.buildOptionsFromRemoteData(this.remoteOptions):console.log("There is no data were responded!")}))}apiRequest(){return c(this,arguments,void 0,(function*(t=""){var e,s,o,n,r,d,p,u,i,S;try{const y=new URL(this.apiUrl),f=new URLSearchParams((e=this.apiQuery)!==null&&e!==void 0?e:""),T=(s=this.apiOptions)!==null&&s!==void 0?s:{},M=(o=this.apiSearchQueryKey)!==null&&o!==void 0?o:"q",F=(t??"").trim().toLowerCase();if(F!==""&&f.set(M,encodeURIComponent(F)),this.apiLoadMore){const q=typeof this.apiLoadMore=="object"?this.apiLoadMore.perPage:10,_=(p=(r=(n=this.apiFieldsMap)===null||n===void 0?void 0:n.page)!==null&&r!==void 0?r:(d=this.apiFieldsMap)===null||d===void 0?void 0:d.offset)!==null&&p!==void 0?p:"page",H=(i=(u=this.apiFieldsMap)===null||u===void 0?void 0:u.limit)!==null&&i!==void 0?i:"limit",N=!!(!((S=this.apiFieldsMap)===null||S===void 0)&&S.offset);f.delete(_),f.delete(H),f.set(_,N?"0":"1"),f.set(H,String(q))}y.search=f.toString();const R=yield fetch(y.toString(),T),D=yield R.json();return this.apiDataPart?D[this.apiDataPart]:D}catch(y){console.error(y)}}))}sortElements(t,e){const s=Array.from(t.querySelectorAll(e));this.isSelectedOptionOnTop&&s.sort(((o,n)=>{const r=o.classList.contains("selected")||o.hasAttribute("selected"),d=n.classList.contains("selected")||n.hasAttribute("selected");return r&&!d?-1:!r&&d?1:0})),s.forEach((o=>t.appendChild(o)))}remoteSearch(t){return c(this,void 0,void 0,(function*(){if(t.length<=this.minSearchLength){const r=yield this.apiRequest("");return this.remoteOptions=r,Array.from(this.dropdown.querySelectorAll("[data-value]")).forEach((d=>d.remove())),Array.from(this.el.querySelectorAll("option[value]")).forEach((d=>{d.remove()})),r.length?this.buildOptionsFromRemoteData(r):console.log("No data responded!"),!1}const e=yield this.apiRequest(t);this.remoteOptions=e;let s=e.map((r=>`${r.id}`)),o=null;const n=this.dropdown.querySelectorAll("[data-value]");this.el.querySelectorAll("[data-hs-select-option]").forEach((r=>{var d;const p=r.getAttribute("data-id");s.includes(p)||!((d=this.value)===null||d===void 0)&&d.includes(r.value)||this.destroyOriginalOption(r.value)})),n.forEach((r=>{var d;const p=r.getAttribute("data-id");s.includes(p)||!((d=this.value)===null||d===void 0)&&d.includes(r.getAttribute("data-value"))?s=s.filter((u=>u!==p)):this.destroyOption(r.getAttribute("data-value"))})),o=e.filter((r=>s.includes(`${r.id}`))),o.length?this.buildOptionsFromRemoteData(o):console.log("No data responded!")}))}destroyOption(t){const e=this.dropdown.querySelector(`[data-value="${t}"]`);if(!e)return!1;e.remove()}buildOriginalOption(t,e,s,o,n,r){const d=(0,l.htmlToElement)("<option></option>");d.setAttribute("value",e),o&&d.setAttribute("disabled","disabled"),n&&d.setAttribute("selected","selected"),s&&d.setAttribute("data-id",s),d.setAttribute("data-hs-select-option",JSON.stringify(r)),d.innerText=t,this.el.append(d)}destroyOriginalOption(t){const e=this.el.querySelector(`[value="${t}"]`);if(!e)return!1;e.remove()}buildTagsInputHelper(){this.tagsInputHelper=document.createElement("span"),this.tagsInputHelper.style.fontSize=window.getComputedStyle(this.tagsInput).fontSize,this.tagsInputHelper.style.fontFamily=window.getComputedStyle(this.tagsInput).fontFamily,this.tagsInputHelper.style.fontWeight=window.getComputedStyle(this.tagsInput).fontWeight,this.tagsInputHelper.style.letterSpacing=window.getComputedStyle(this.tagsInput).letterSpacing,this.tagsInputHelper.style.visibility="hidden",this.tagsInputHelper.style.whiteSpace="pre",this.tagsInputHelper.style.position="absolute",this.wrapper.appendChild(this.tagsInputHelper)}calculateInputWidth(){this.tagsInputHelper.textContent=this.tagsInput.value||this.tagsInput.placeholder;const t=parseInt(window.getComputedStyle(this.tagsInput).paddingLeft)+parseInt(window.getComputedStyle(this.tagsInput).paddingRight),e=parseInt(window.getComputedStyle(this.tagsInput).borderLeftWidth)+parseInt(window.getComputedStyle(this.tagsInput).borderRightWidth),s=this.tagsInputHelper.offsetWidth+t+e,o=this.wrapper.offsetWidth-(parseInt(window.getComputedStyle(this.wrapper).paddingLeft)+parseInt(window.getComputedStyle(this.wrapper).paddingRight));this.tagsInput.style.width=`${Math.min(s,o)+2}px`}adjustInputWidth(){this.buildTagsInputHelper(),this.calculateInputWidth()}onSelectOption(t){if(this.clearSelections(),this.isMultiple?(Array.isArray(this.value)||(this.value=[]),this.value=this.value.includes(t)?this.value.filter((e=>e!==t)):[...this.value,t],this.selectMultipleItems(),this.setNewValue()):(this.value=t,this.selectSingleItem(),this.setNewValue()),this.fireEvent("change",this.value),this.mode==="tags"){const e=this.selectedItems.filter((s=>!this.value.includes(s)));e.length&&e.forEach((s=>{this.selectedItems=this.selectedItems.filter((o=>o!==s)),this.wrapper.querySelector(`[data-tag-value="${s}"]`).remove()})),this.resetTagsInputField()}this.isMultiple||(this.toggle.querySelector("[data-icon]")&&this.setToggleIcon(),this.toggle.querySelector("[data-title]")&&this.setToggleTitle(),this.close(!0)),this.hasValue()||this.mode!=="tags"||this.reassignTagsInputPlaceholder(this.placeholder),this._isOpened&&this.mode==="tags"&&this.tagsInput&&this.tagsInput.focus(),this.triggerChangeEventForNativeSelect()}triggerChangeEventForNativeSelect(){const t=new Event("change",{bubbles:!0});this.el.dispatchEvent(t),(0,l.dispatch)("change.hs.select",this.el,this.value)}addSelectOption(t,e,s,o,n){this.selectOptions=[...this.selectOptions,{title:t,val:e,disabled:s,selected:o,options:n}]}removeSelectOption(t,e=!1){if(!this.selectOptions.some((s=>s.val===t)))return!1;this.selectOptions=this.selectOptions.filter((s=>s.val!==t)),this.value=e?this.value.filter((s=>s!==t)):t}resetTagsInputField(){this.tagsInput.value="",this.reassignTagsInputPlaceholder(""),this.searchOptions("")}clearSelections(){Array.from(this.dropdown.children).forEach((t=>{t.classList.contains("selected")&&t.classList.remove("selected")})),Array.from(this.el.children).forEach((t=>{t.selected&&(t.selected=!1)}))}setNewValue(){if(this.mode==="tags")this.setTagsItems();else if(this.optionAllowEmptyOption&&this.value===""){const t=this.selectOptions.find((e=>e.val===""));this.toggleTextWrapper.innerHTML=t?.title||this.placeholder}else if(this.hasValue())if(this.apiUrl){const t=this.dropdown.querySelector(`[data-value="${this.value}"]`);if(t)this.toggleTextWrapper.innerHTML=t.getAttribute("data-title-value")||this.placeholder;else{const e=this.remoteOptions.find((s=>(s[this.apiFieldsMap.val]?`${s[this.apiFieldsMap.val]}`:s[this.apiFieldsMap.title])===this.value));this.toggleTextWrapper.innerHTML=e?`${e[this.apiFieldsMap.title]}`:this.stringFromValue()}}else this.toggleTextWrapper.innerHTML=this.stringFromValue();else this.toggleTextWrapper.innerHTML=this.placeholder}stringFromValueBasic(t){var e;const s=[];let o="";if(t.forEach((n=>{this.isMultiple?Array.isArray(this.value)&&this.value.includes(n.val)&&s.push(n.title):this.value===n.val&&s.push(n.title)})),this.toggleCountText!==void 0&&this.toggleCountText!==null&&s.length>=this.toggleCountTextMinItems)if(this.toggleCountTextMode==="nItemsAndCount"){const n=s.slice(0,this.toggleCountTextMinItems-1),r=[n.join(this.toggleSeparators.items)],d=""+(s.length-n.length);if(!((e=this==null?void 0:this.toggleSeparators)===null||e===void 0)&&e.betweenItemsAndCounter&&r.push(this.toggleSeparators.betweenItemsAndCounter),this.toggleCountText)switch(this.toggleCountTextPlacement){case"postfix-no-space":r.push(`${d}${this.toggleCountText}`);break;case"prefix-no-space":r.push(`${this.toggleCountText}${d}`);break;case"prefix":r.push(`${this.toggleCountText} ${d}`);break;default:r.push(`${d} ${this.toggleCountText}`)}o=r.join(" ")}else o=`${s.length} ${this.toggleCountText}`;else o=s.join(this.toggleSeparators.items);return o}stringFromValueRemoteData(){const t=this.dropdown.querySelectorAll("[data-title-value]"),e=[];let s="";if(t.forEach((o=>{const n=o.getAttribute("data-value"),r=o.getAttribute("data-title-value");this.isMultiple?Array.isArray(this.value)&&this.value.includes(n)&&e.push(r):this.value===n&&e.push(r)})),this.toggleCountText&&this.toggleCountText!==""&&e.length>=this.toggleCountTextMinItems)if(this.toggleCountTextMode==="nItemsAndCount"){const o=e.slice(0,this.toggleCountTextMinItems-1);s=`${o.join(this.toggleSeparators.items)} ${this.toggleSeparators.betweenItemsAndCounter} ${e.length-o.length} ${this.toggleCountText}`}else s=`${e.length} ${this.toggleCountText}`;else s=e.join(this.toggleSeparators.items);return s}stringFromValue(){return this.apiUrl?this.stringFromValueRemoteData():this.stringFromValueBasic(this.selectOptions)}selectSingleItem(){Array.from(this.el.children).find((e=>this.value===e.value)).selected=!0;const t=Array.from(this.dropdown.children).find((e=>this.value===e.getAttribute("data-value")));t&&t.classList.add("selected"),this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]")}selectMultipleItems(){Array.isArray(this.value)&&(Array.from(this.dropdown.children).filter((t=>this.value.includes(t.getAttribute("data-value")))).forEach((t=>t.classList.add("selected"))),Array.from(this.el.children).filter((t=>this.value.includes(t.value))).forEach((t=>t.selected=!0)),this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]"))}unselectMultipleItems(){Array.from(this.dropdown.children).forEach((t=>t.classList.remove("selected"))),Array.from(this.el.children).forEach((t=>t.selected=!1)),this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]")}searchOptions(t){if(t.length<=this.minSearchLength)return this.searchNoResult&&(this.searchNoResult.remove(),this.searchNoResult=null),this.dropdown.querySelectorAll("[data-value]").forEach((n=>{n.classList.remove("hidden")})),!1;this.searchNoResult&&(this.searchNoResult.remove(),this.searchNoResult=null),this.searchNoResult=(0,l.htmlToElement)(this.searchNoResultTemplate),this.searchNoResult.innerText=this.searchNoResultText,(0,l.classToClassList)(this.searchNoResultClasses,this.searchNoResult);const e=this.dropdown.querySelectorAll("[data-value]");let s,o=!1;this.searchLimit&&(s=0),e.forEach((n=>{const r=n.getAttribute("data-title-value").toLocaleLowerCase();let d;if(this.isSearchDirectMatch)d=!r.includes(t.toLowerCase())||this.searchLimit&&s>=this.searchLimit;else{const p=t?t.split("").map((u=>/\w/.test(u)?`${u}[\\W_]*`:"\\W*")).join(""):"";d=!new RegExp(p,"i").test(r.trim())||this.searchLimit&&s>=this.searchLimit}d?n.classList.add("hidden"):(n.classList.remove("hidden"),o=!0,this.searchLimit&&s++)})),o||this.dropdown.append(this.searchNoResult)}eraseToggleIcon(){const t=this.toggle.querySelector("[data-icon]");t&&(t.innerHTML=null,t.classList.add("hidden"))}eraseToggleTitle(){const t=this.toggle.querySelector("[data-title]");t?t.innerHTML=this.placeholder:this.toggleTextWrapper.innerHTML=this.placeholder}toggleFn(){this._isOpened?this.close():this.open()}setupAccessibility(){this.accessibilityComponent=window.HSAccessibilityObserver.registerComponent(this.wrapper,{onEnter:()=>{if(this._isOpened){const t=this.dropdown.querySelector(".hs-select-option-highlighted");t&&(this.onSelectOption(t.getAttribute("data-value")||""),this._isOpened&&t.focus())}else this.open()},onSpace:()=>{if(this._isOpened){const t=this.dropdown.querySelector(".hs-select-option-highlighted");t&&(this.onSelectOption(t.getAttribute("data-value")||""),this._isOpened&&t.focus())}else this.open()},onEsc:()=>{this._isOpened&&this.close(!0)},onArrow:t=>{if(!t.metaKey)if(this._isOpened||t.key!=="ArrowDown"){if(this._isOpened)switch(t.key){case"ArrowDown":this.focusMenuItem("next");break;case"ArrowUp":this.focusMenuItem("prev");break;case"Home":this.onStartEnd(!0);break;case"End":this.onStartEnd(!1)}}else this.open()},onHome:()=>{this._isOpened&&this.onStartEnd(!0)},onEnd:()=>{this._isOpened&&this.onStartEnd(!1)},onTab:()=>{this._isOpened&&this.close()}},this._isOpened,"Select",".hs-select",this.dropdown)}focusMenuItem(t){const e=Array.from(this.dropdown.querySelectorAll(":scope > *:not(.hidden)")).filter((r=>!r.classList.contains("disabled")));if(!e.length)return;const s=this.dropdown.querySelector(".hs-select-option-highlighted"),o=s?e.indexOf(s):-1,n=t==="next"?(o+1)%e.length:(o-1+e.length)%e.length;s&&s.classList.remove("hs-select-option-highlighted"),e[n].classList.add("hs-select-option-highlighted"),e[n].focus()}onStartEnd(t=!0){if(!this.dropdown)return;const e=Array.from(this.dropdown.querySelectorAll(":scope > *:not(.hidden)")).filter((n=>!n.classList.contains("disabled")));if(!e.length)return;const s=this.dropdown.querySelector(".hs-select-option-highlighted");s&&s.classList.remove("hs-select-option-highlighted");const o=t?0:e.length-1;e[o].classList.add("hs-select-option-highlighted"),e[o].focus()}destroy(){var t;this.wrapper&&this.wrapper.removeEventListener("click",this.onWrapperClickListener),this.toggle&&this.toggle.removeEventListener("click",this.onToggleClickListener),this.tagsInput&&(this.tagsInput.removeEventListener("focus",this.onTagsInputFocusListener),this.tagsInput.removeEventListener("input",this.onTagsInputInputListener),this.tagsInput.removeEventListener("input",this.onTagsInputInputSecondListener),this.tagsInput.removeEventListener("keydown",this.onTagsInputKeydownListener)),this.search&&this.search.removeEventListener("input",this.onSearchInputListener);const e=this.el.parentElement.parentElement;this.el.classList.add("hidden"),this.el.style.display="",e.prepend(this.el),e.querySelector(".hs-select").remove(),this.wrapper=null,(t=this.disabledObserver)===null||t===void 0||t.disconnect(),this.disabledObserver=null,window.$hsSelectCollection=window.$hsSelectCollection.filter((({element:s})=>s.el!==this.el))}open(){var t;const e=((t=window?.$hsSelectCollection)===null||t===void 0?void 0:t.find((s=>s.element.isOpened())))||null;if(e&&e.element.close(),this.animationInProcess)return!1;this.animationInProcess=!0,this.dropdownScope==="window"&&this.dropdown.classList.add("invisible"),this.dropdown.classList.remove("hidden"),this.dropdownScope!=="window"&&this.recalculateDirection(),setTimeout((()=>{var s;!((s=this==null?void 0:this.toggle)===null||s===void 0)&&s.ariaExpanded&&(this.toggle.ariaExpanded="true"),this.wrapper.classList.add("active"),this.dropdown.classList.add("opened"),this.dropdown.classList.contains("w-full")&&this.dropdownScope==="window"&&this.updateDropdownWidth(),this.floatingUIInstance&&this.dropdownScope==="window"&&(this.floatingUIInstance.update(),this.dropdown.classList.remove("invisible")),this.hasSearch&&!this.preventSearchFocus&&this.search.focus(),this.animationInProcess=!1})),this._isOpened=!0,window.HSAccessibilityObserver&&this.accessibilityComponent&&window.HSAccessibilityObserver.updateComponentState(this.accessibilityComponent,this._isOpened)}close(t=!1){var e,s,o,n;if(this.animationInProcess)return!1;this.animationInProcess=!0,!((e=this==null?void 0:this.toggle)===null||e===void 0)&&e.ariaExpanded&&(this.toggle.ariaExpanded="false"),this.wrapper.classList.remove("active"),this.dropdown.classList.remove("opened","bottom-full","top-full"),!((s=this.dropdownDirectionClasses)===null||s===void 0)&&s.bottom&&this.dropdown.classList.remove(this.dropdownDirectionClasses.bottom),!((o=this.dropdownDirectionClasses)===null||o===void 0)&&o.top&&this.dropdown.classList.remove(this.dropdownDirectionClasses.top),this.dropdown.style.marginTop="",this.dropdown.style.marginBottom="",(0,l.afterTransition)(this.dropdown,(()=>{var r;this.dropdown.classList.add("hidden"),this.hasSearch&&(this.search.value="",this.apiUrl||this.search.dispatchEvent(new Event("input",{bubbles:!0})),this.search.blur()),t&&(!((r=this.mode)===null||r===void 0)&&r.includes("tags")?this.wrapper.focus():this.toggle.focus()),this.animationInProcess=!1})),(n=this.dropdown.querySelector(".hs-select-option-highlighted"))===null||n===void 0||n.classList.remove("hs-select-option-highlighted"),this._isOpened=!1,window.HSAccessibilityObserver&&this.accessibilityComponent&&window.HSAccessibilityObserver.updateComponentState(this.accessibilityComponent,this._isOpened)}addOption(t){let e=`${this.selectOptions.length}`;const s=o=>{const{title:n,val:r,disabled:d,selected:p,options:u}=o;this.selectOptions.some((i=>i.val===r))||(this.addSelectOption(n,r,d,p,u),this.buildOption(n,r,d,p,u,e),this.buildOriginalOption(n,r,null,d,p,u),p&&!this.isMultiple&&this.onSelectOption(r))};Array.isArray(t)?t.forEach((o=>{s(o)})):s(t),this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]")}removeOption(t){const e=(s,o=!1)=>{this.selectOptions.some((n=>n.val===s))&&(this.removeSelectOption(s,o),this.destroyOption(s),this.destroyOriginalOption(s),this.value===s&&(this.value=null,this.eraseToggleTitle(),this.eraseToggleIcon()))};Array.isArray(t)?t.forEach((s=>{e(s,this.isMultiple)})):e(t,this.isMultiple),this.setNewValue(),this.sortElements(this.el,"option"),this.sortElements(this.dropdown,"[data-value]")}recalculateDirection(){var t,e,s,o;if(this!=null&&this.dropdownVerticalFixedPlacement&&(this.dropdown.classList.contains("bottom-full")||this.dropdown.classList.contains("top-full")))return!1;(this==null?void 0:this.dropdownVerticalFixedPlacement)==="top"?(this.dropdown.classList.add("bottom-full"),this.dropdown.style.marginBottom=`${this.dropdownSpace}px`):(this==null?void 0:this.dropdownVerticalFixedPlacement)==="bottom"?(this.dropdown.classList.add("top-full"),this.dropdown.style.marginTop=`${this.dropdownSpace}px`):(0,l.isEnoughSpace)(this.dropdown,this.toggle||this.tagsInput,"bottom",this.dropdownSpace,this.viewport)?(this.dropdown.classList.remove("bottom-full"),!((t=this.dropdownDirectionClasses)===null||t===void 0)&&t.bottom&&this.dropdown.classList.remove(this.dropdownDirectionClasses.bottom),this.dropdown.style.marginBottom="",this.dropdown.classList.add("top-full"),!((e=this.dropdownDirectionClasses)===null||e===void 0)&&e.top&&this.dropdown.classList.add(this.dropdownDirectionClasses.top),this.dropdown.style.marginTop=`${this.dropdownSpace}px`):(this.dropdown.classList.remove("top-full"),!((s=this.dropdownDirectionClasses)===null||s===void 0)&&s.top&&this.dropdown.classList.remove(this.dropdownDirectionClasses.top),this.dropdown.style.marginTop="",this.dropdown.classList.add("bottom-full"),!((o=this.dropdownDirectionClasses)===null||o===void 0)&&o.bottom&&this.dropdown.classList.add(this.dropdownDirectionClasses.bottom),this.dropdown.style.marginBottom=`${this.dropdownSpace}px`)}isOpened(){return this._isOpened||!1}containsElement(t){var e;return((e=this.wrapper)===null||e===void 0?void 0:e.contains(t))||!1}static findInCollection(t){return window.$hsSelectCollection.find((e=>t instanceof w?e.element.el===t.el:typeof t=="string"?e.element.el===document.querySelector(t):e.element.el===t))||null}static getInstance(t,e){const s=window.$hsSelectCollection.find((o=>o.element.el===(typeof t=="string"?document.querySelector(t):t)));return s?e?s:s.element:null}static autoInit(){window.$hsSelectCollection||(window.$hsSelectCollection=[],window.addEventListener("click",(t=>{const e=t.target;w.closeCurrentlyOpened(e)}))),window.$hsSelectCollection&&(window.$hsSelectCollection=window.$hsSelectCollection.filter((({element:t})=>document.contains(t.el)))),document.querySelectorAll("[data-hs-select]:not(.--prevent-on-load-init)").forEach((t=>{if(!window.$hsSelectCollection.find((e=>{var s;return((s=e?.element)===null||s===void 0?void 0:s.el)===t}))){const e=t.getAttribute("data-hs-select"),s=e?JSON.parse(e):{};new w(t,s)}}))}static open(t){const e=w.findInCollection(t);e&&!e.element.isOpened()&&e.element.open()}static close(t){const e=w.findInCollection(t);e&&e.element.isOpened()&&e.element.close()}static closeCurrentlyOpened(t=null){if(!t.closest(".hs-select.active")&&!t.closest("[data-hs-select-dropdown].opened")){const e=window.$hsSelectCollection.filter((s=>s.element.isOpened()))||null;e&&e.forEach((s=>{s.element.close()}))}}}window.addEventListener("load",(()=>{w.autoInit()})),document.addEventListener("scroll",(()=>{if(!window.$hsSelectCollection)return!1;const b=window.$hsSelectCollection.find((t=>t.element.isOpened()));b&&b.element.recalculateDirection()})),typeof window<"u"&&(window.HSSelect=w),h.default=w},961:(E,h)=>{Object.defineProperty(h,"__esModule",{value:!0}),h.default=class{constructor(a,c,I){this.el=a,this.options=c,this.events=I,this.el=a,this.options=c,this.events={}}createCollection(a,c){var I;a.push({id:((I=c?.el)===null||I===void 0?void 0:I.id)||a.length+1,element:c})}fireEvent(a,c=null){if(this.events.hasOwnProperty(a))return this.events[a](c)}on(a,c){this.events[a]=c}}}},C={},L=(function E(h){var a=C[h];if(a!==void 0)return a.exports;var c=C[h]={exports:{}};return O[h].call(c.exports,c,c.exports,E),c.exports})(442);return L})()))})(P)),P.exports}var $=V();const K=W($),j=U({__proto__:null,default:K},[$]);export{j as i};
