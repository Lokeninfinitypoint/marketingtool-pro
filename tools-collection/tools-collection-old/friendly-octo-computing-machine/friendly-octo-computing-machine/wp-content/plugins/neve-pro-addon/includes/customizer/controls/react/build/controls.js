(()=>{var e,t={656:(e,t,o)=>{"use strict";const n=window.wp.element,a=window.wp.i18n,r=(0,n.createContext)({}),i=window.wp.components,s=window.wp.primitives,c=(0,n.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(s.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})),l=function({icon:e,size:t=24,...o}){return(0,n.cloneElement)(e,{width:t,height:t,...o})},d=(0,n.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"-2 -2 24 24"},(0,n.createElement)(s.Path,{d:"M10 2c4.42 0 8 3.58 8 8s-3.58 8-8 8-8-3.58-8-8 3.58-8 8-8zm1.13 9.38l.35-6.46H8.52l.35 6.46h2.26zm-.09 3.36c.24-.23.37-.55.37-.96 0-.42-.12-.74-.36-.97s-.59-.35-1.06-.35-.82.12-1.07.35-.37.55-.37.97c0 .41.13.73.38.96.26.23.61.34 1.06.34s.8-.11 1.05-.34z"})),u=()=>{const[e,t]=(0,n.useState)(!1),{value:o,updateHeader:s,currentHeader:u,toggleAdding:m,adding:p,addLayout:v,deleteLayout:w}=(0,n.useContext)(r),[h,f]=(0,n.useState)(""),g=()=>`hfgcl_${h.trim().toLowerCase().replace(/[^a-zA-Z0-9]+/g,"-")}`,{headers:_}=o,y=Object.keys(_).includes(g());return(0,n.createElement)(n.Fragment,null,(0,n.createElement)("label",{htmlFor:"nv-custom-header-selector",className:"customize-control-title"},(0,a.__)("Select Header","neve-pro-addon")),(0,n.createElement)("div",{className:"select-wrap layout-selector"},(0,n.createElement)("select",{id:"nv-custom-header-selector",disabled:p||e,value:u,onChange:e=>{const o=e.target.value;t(!0),s(o),t(!1)}},Object.keys(_).map((e=>(0,n.createElement)("option",{value:e,key:e},_[e].label)))),"default"!==u&&!e&&(0,n.createElement)(i.Button,{type:"button",isSecondary:!0,isDestructive:!0,disabled:p,className:"remove-layout",onClick:w,icon:c},(0,a.__)("Remove","neve-pro-addon")),e&&(0,n.createElement)(i.Spinner,null)),!p&&(0,n.createElement)(i.Button,{isSecondary:!0,isLink:!0,className:"layout-add-button",onClick:e=>{e.preventDefault(),m()}},"+ ",(0,a.__)("Add New Header","neve-pro-addon")),p&&(0,n.createElement)("div",null,(0,n.createElement)("form",{className:"add-layout-form",onSubmit:e=>{e.preventDefault(),t(!0);const o=g();v(o,h),f(""),m(),t(!1)}},(0,n.createElement)("input",{name:"layout-slug",value:h,onChange:e=>{f(e.target.value)},type:"text",placeholder:(0,a.__)("Header Name","neve-pro-addon")}),(0,n.createElement)(i.Button,{isSecondary:!0,onClick:()=>{m(),f("")}},(0,a.__)("Cancel","neve-pro-addon")),(0,n.createElement)(i.Button,{className:"add",type:"submit",disabled:h.length<1||y,isPrimary:!0},(0,a.__)("Add","neve-pro-addon"))),y&&(0,n.createElement)("small",{style:{display:"flex",alignItems:"center"}},(0,n.createElement)(l,{icon:d,size:18}),(0,a.__)("A header with this name already exists.","neve-pro-addon"))))};var m=o(184),p=o.n(m);const v=window.wp.neve.components,w=({optionGroups:e,root:t,noGroups:o,parseEndGroups:r,name:i,selected:s,onChange:c,isMultiple:l})=>{const d=p()([i,"select-wrap"]);return(0,n.createElement)("div",{className:d},!l&&(0,n.createElement)("select",{value:s,className:"conditional-select",onChange:e=>{c(e.target.value)}},"condition"!==i&&(0,n.createElement)("option",{value:""},(0,a.__)("Select","neve-pro-addon")),r?(()=>{const o="archive_taxonomy"===t;return Object.keys(e).map((t=>e[t].map(((e,a)=>{const{nicename:r,name:s,terms:c}=e;let l=c;return!(!l||l.length<1)&&("object"==typeof l&&(l=Object.values(l)),o?(0,n.createElement)("option",{value:s,label:`${r} (${t} - ${s})`,key:`${t}-${i}-${a}`}):(0,n.createElement)("optgroup",{label:`${r} (${t} - ${s})`,key:`${t}-${s}-${a}`},l.map(((e,o)=>(0,n.createElement)("option",{value:`${s}|${e.slug}`,key:`${s}|${e.slug}|${t}|${o}`},e.name)))))}))))})():o?Object.keys(e).map(((t,o)=>0!==e[t].length&&(0,n.createElement)("option",{value:t,key:`${t}-${o}`},e[t]))):Object.keys(e).map(((t,o)=>(0,n.createElement)("optgroup",{label:e[t].label,key:`${t}-${o}`},Object.keys(e[t].choices).map(((o,a)=>(0,n.createElement)("option",{value:o,key:`${o}-${a}`},e[t].choices[o]))))))),l&&void 0!==e&&(0,n.createElement)("div",{className:"module-option neve-multiselect"},(0,n.createElement)(v.MultiSelect,{choices:e,currentValue:s||[],onChange:e=>{c(e)}})))},h=(0,n.createElement)(s.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},(0,n.createElement)(s.Path,{d:"M18 11.2h-5.2V6h-1.6v5.2H6v1.6h5.2V18h1.6v-5.2H18z"})),f=({ruleset:e,isLast:t,isFirst:o,canAddMore:r,updateRoot:s,updateCondition:l,updateEnd:d,addRuleSet:u,removeRuleSet:m})=>{const p=NeveProReactCustomize.conditionalRules,v=()=>{const{root:t}=e;if(!t)return[];const{map:o,end:n}=p;return n[Object.keys(o).filter((e=>o[e].includes(t)))[0]]};return(()=>{const{root:f,condition:g,end:_}=e,y=NeveProReactCustomize.multiSelectRules;let E=NeveProReactCustomize.conditionTextMap[f];E||(E=NeveProReactCustomize.conditionTextMap.default);const z=["post_taxonomy","archive_term","archive_taxonomy"].includes(f);return(0,n.createElement)("div",{className:"rule-set"},(0,n.createElement)(w,{name:"root",className:"root",optionGroups:p.root,selected:f,onChange:e=>s(e)}),f&&(0,n.createElement)(n.Fragment,null,(0,n.createElement)(w,{name:"condition",className:"condition",optionGroups:E,selected:g,noGroups:!0,onChange:e=>l(e)}),(0,n.createElement)(w,{name:"end",className:"end",optionGroups:v(),root:f,selected:_,parseEndGroups:z,noGroups:!z,onChange:e=>d(e),isMultiple:y.includes(f)})),(0,n.createElement)(i.ButtonGroup,{className:"rule-actions"},(0,n.createElement)(i.Button,{label:(0,a.__)("Remove Rule","neve-pro-addon"),icon:c,isSecondary:!0,isDestructive:!0,className:"remove-rule",disabled:t&&o,onClick:m}),(0,n.createElement)(i.Button,{label:(0,a.__)("Add Rule","neve-pro-addon"),icon:h,isSecondary:!0,className:"add-rule",disabled:!r,onClick:u})),!t&&(0,n.createElement)("span",{className:"chainer"},(0,a.__)("and","neve-pro-addon")))})()},g=({group:e,isFirst:t,isLast:o,canAddMore:r,onChange:s,addRuleSet:c,addRuleGroup:l,removeRuleSet:d,removeRuleGroup:u})=>{const m=(e,t,o)=>{s(e,t,o),"root"===t&&s([],"end",o)};return e.length<1?null:(0,n.createElement)(n.Fragment,null,(0,n.createElement)("div",{className:"rule-group"},e.map(((t,o)=>(0,n.createElement)(f,{key:o,ruleset:t,isLast:o===e.length-1,isFirst:0===o,canAddMore:e.length<3,updateRoot:e=>{m(e,"root",o)},updateCondition:e=>{m(e,"condition",o)},updateEnd:e=>{m(e,"end",o)},addRuleSet:()=>{c(o)},removeRuleSet:()=>{d(o)}}))),(0,n.createElement)("div",{className:"actions"},(0,n.createElement)(i.Button,{isSecondary:!0,isSmall:!0,disabled:!r,className:"add-group",onClick:l},(0,a.__)("Add Rule Group","neve-pro-addon")),!(o&&t)&&(0,n.createElement)(i.Button,{isLink:!0,isDestructive:!0,isSmall:!0,className:"remove-group",onClick:u},(0,a.__)("Remove Rule Group","neve-pro-addon")))),!o&&(0,n.createElement)("span",{className:"chainer"},(0,a.__)("or","neve-pro-addon")))},_=()=>{const{value:e,currentHeader:t,updateRules:o}=(0,n.useContext)(r),{headers:i}=e,s=(()=>{let e=i[t].rules||[[{root:"",condition:"===",end:""}]];return(!Array.isArray(e[0])||0===e[0].length)&&(e=[[{root:"",condition:"===",end:""}]]),e})();return(0,n.createElement)("div",{className:"nv-conditional-selector-control"},(0,n.createElement)("label",{htmlFor:"neve-custom-header-rules",className:"customize-control-title"},(0,a.__)("Display this header if","neve-pro-addon")),s.map(((t,a)=>(0,n.createElement)(g,{id:"neve-custom-header-rules",key:a,group:t,isLast:a===s.length-1,isFirst:0===a,canAddMore:s.length<5,onChange:(t,n,r)=>{((t,n,a,r)=>{const i=[...s];i[r][a][n]=t,"root"!==n||e||(i[r][a].end=""),o(i)})(t,n,r,a)},addRuleSet:e=>{((e,t)=>{const n=[...s];n[t].splice(e+1,0,{root:"",condition:"===",end:""}),o(n)})(e,a)},removeRuleSet:e=>{((e,t)=>{const n=[...s];n[t].splice(e,1),o(n)})(e,a)},addRuleGroup:()=>{(e=>{const t=[...s];t.splice(e+1,0,[{root:"",condition:"===",end:""}]),o(t)})(a)},removeRuleGroup:()=>{(e=>{const t=[...s];t.splice(e,1),o(t)})(a)}}))))},y=e=>{if("string"!=typeof e)return e;try{JSON.parse(e)}catch(t){return e}return JSON.parse(e)},E=({control:e})=>{const{headerControls:t}=window.NeveProReactCustomize,o=()=>{const e={};return t.forEach((t=>{if(!window.wp.customize.control(t))return!1;e[t]=y(window.wp.customize.control(t).setting())})),e},[i,s]=(0,n.useState)(o()),c={default:{label:(0,a.__)("Default","neve-pro-addon"),mods:{}}},l={headers:{...e.setting().headers}||{...c},add:{},delete:[],currentHeader:"default"},[d,m]=(0,n.useState)("default"),[p,v]=(0,n.useState)(l),[w,h]=(0,n.useState)(!1),[f,g]=(0,n.useState)(!1),E=()=>!wp.customize.control("neve_global_header").setting.get()&&"default"!==e.setting.get().currentHeader,z=()=>{wp.customize.notifications.remove("neve-conditional-notification")},b=()=>{const t=e.setting.get().currentHeader,o=p.headers[t].label,n=(0,a.__)("You are customizing the","neve-pro-addon")+' <a href="#">'+o+"</a> "+(0,a.__)("Header","neve-pro-addon");wp.customize.notifications.add(new wp.customize.Notification("neve-conditional-notification",{message:n,type:"info",code:"neve-conditional-notification",render(){const e=wp.customize.Notification.prototype.render.call(this);return e.find("a").on("click",(function(e){e.preventDefault(),wp.customize.control("neve_header_conditional_selector").focus()})),e}}))};(0,n.useEffect)((()=>{let e=null;"default"!==d&&(e=p.headers[d].label),document.dispatchEvent(new window.CustomEvent("nv-change-conditional-header",{detail:e}))}),[d]),(0,n.useEffect)((()=>{window.wp.customize.bind("change",(n=>{if(["neve_global_header",e.id].includes(n.id)&&(E()?(z(),b()):z()),"neve_global_header"===n.id&&!0===n.get())return N("default"),!1;if(!t.includes(n.id))return!1;const a=e.setting().currentHeader,r=y(n.get());if("default"===a){const e={...o(),[n.id]:r};s(e)}const i={...p};i.currentHeader=a,i.headers[a].mods[n.id]=r,C(i)}))}),[]),(0,n.useEffect)((()=>{window.wp.customize.state("expandedPanel").bind((e=>e.id&&"hfg_header"===e.id&&E()?void b():(z(),!1)))}),[]);const C=t=>{v(t),e.setting.set({...t,trigger:f}),e.setting._dirty=!0,g(!f)},N=(e,t=null)=>{const o=t?{...t}:{...p};o.currentHeader=e,C(o);const{newBuilder:n}=window.NeveProReactCustomize;let a=o.headers[e].mods;if("default"===e&&(a={...i}),m(e),!a)return;const r=n?"hfg_header_layout_v2":"hfg_header_layout";a[r]&&window.document.dispatchEvent(new window.CustomEvent("neve-changed-builder-value",{detail:{value:a[r],id:"header"}})),Object.keys(a).forEach((e=>{if(["hfg_header_layout","hfg_header_layout_v2"].includes(e))return!1;if(!window.wp.customize.control(e))return!1;const{type:t}=wp.customize.control(e).params;return["text","textarea","select"].includes(t)?(wp.customize.control(e).setting.set(a[e]),!1):(window.document.dispatchEvent(new window.CustomEvent("neve-changed-customizer-value",{detail:{value:a[e]||"",id:e}})),e)}))},k={value:p,setValue:v,adding:w,toggleAdding:()=>{h(!w)},currentHeader:d,updateHeader:N,updateRules:e=>{const t={...p};t.headers[d].rules=e,C(t)},deleteLayout:()=>{const e={...p};e.add[d]&&delete e.add[d],delete e.headers[d],e.delete.push(d),N("default",e)},addLayout:(e,t)=>{const o={...p};o.delete.includes(e)&&(o.delete=o.delete.filter((t=>e!==t))),o.add[e]=t,o.headers[e]={label:t,rules:[[{root:"",condition:"===",end:""}]],mods:{...i}},o.currentHeader=e,N(e,o)}};return(0,n.createElement)(r.Provider,{value:k},(0,n.createElement)(u,null),!w&&"default"!==d&&(0,n.createElement)(_,null),(0,n.createElement)((()=>(0,n.createElement)("p",null,(0,a.__)("You can create new headers and set them on a particular page/post, taxonomy, post types and more with display rules.","neve-pro-addon"))),null))},z=wp.customize.Control.extend({renderContent:function(){wp.customize.bind("ready",(()=>(0,n.render)((0,n.createElement)(E,{control:this}),this.container[0])))}}),b=window.wp.api,C=(e,t)=>{const o=new b.models.Settings({[e]:t});return new Promise((n=>{o.save().then((o=>{o&&!o[e]!==t||n({success:!1}),n({success:!0})}))}))};wp.customize.controlConstructor.neve_context_conditional_selector=z;const N=()=>{const e=window.wp.customize.panel("woocommerce");void 0!==e&&""!==NeveProReactCustomize.sparksNotice&&e.notifications.add(new window.wp.customize.Notification("neve-pro-sparks-notice",{type:"warning",message:NeveProReactCustomize.sparksNotice,dismissible:!0,render(){const e=wp.customize.Notification.prototype.render.call(this);return e.find(".notice-dismiss").on("click",(()=>{C("nv_pro_hide_sparks_customizer_notice",!0)})),e}}))},k=()=>{const e=window.wp.customize.panel("woocommerce");void 0!==e&&""!==NeveProReactCustomize.sparksInstallationNotice&&e.notifications.add(new window.wp.customize.Notification("neve-pro-sparks-installation-notice",{type:"info",message:NeveProReactCustomize.sparksInstallationNotice,dismissible:!0,render(){const e=wp.customize.Notification.prototype.render.call(this);return e.find(".notice-dismiss").on("click",(()=>{C("nv_pro_sparks_installation_notice","hide")})),e}}))};window.wp.customize.bind("ready",(()=>{wp.customize.control("neve_featured_post_image_align",(e=>((e,t)=>{window.wp.customize("neve_featured_post_image_position").bind((function(t){e.active.set("top"===t)}))})(e))),N(),(()=>{if(!NeveProReactCustomize.wooCartCheckoutCompatibility)return;const e=[],t="1"===NeveProReactCustomize.usesWooCartBlock,o="1"===NeveProReactCustomize.usesWooCheckoutBlock;t&&e.push("ul#sub-accordion-section-neve_cart_page_layout .customize-control"),o&&e.push("ul#sub-accordion-section-woocommerce_checkout .customize-control");const n=e.join(","),a=document.createElement("style");a.innerHTML=`\n\t${n} {\n\t\t\tpointer-events: none;\n\t\t\tposition: relative;\n\t\t\tfilter: grayscale(0.3) opacity(0.5) blur(1px);\n\t}\n\t`,document.getElementById("customize-controls").appendChild(a);const r=new window.wp.customize.Notification("neve-pro-sparks-notice",{type:"warning",message:NeveProReactCustomize.wooCartCheckoutCompatibility,dismissible:!1}),i=window.wp.customize.section("neve_cart_page_layout");void 0!==i&&t&&i.notifications.add(r);const s=window.wp.customize.section("woocommerce_checkout");void 0!==s&&o&&s.notifications.add(r)})(),k()})),(()=>{if(!NeveProReactCustomize.missingLicenseNotice)return;const e="neve_pro_main";window.wp.customize.bind("ready",(()=>{wp.customize.section(e).notifications.add(new wp.customize.Notification("neve_license_error",{message:NeveProReactCustomize.missingLicenseNotice,type:"error",dimissable:!1}))})),jQuery(document).ready((t=>{wp.customize.section(e,(e=>{e.notifications.container=t(".control-section-neve_pro_main .customize-control-notifications-container"),e.notifications.render()}))})),wp.customize.sectionConstructor.neve_pro_main=wp.customize.Section.extend({attachEvents:()=>null,isContextuallyActive:()=>!0})})()},184:(e,t)=>{var o;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var r=typeof o;if("string"===r||"number"===r)e.push(o);else if(Array.isArray(o)){if(o.length){var i=a.apply(null,o);i&&e.push(i)}}else if("object"===r)if(o.toString===Object.prototype.toString)for(var s in o)n.call(o,s)&&o[s]&&e.push(s);else e.push(o.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(o=function(){return a}.apply(t,[]))||(e.exports=o)}()}},o={};function n(e){var a=o[e];if(void 0!==a)return a.exports;var r=o[e]={exports:{}};return t[e](r,r.exports,n),r.exports}n.m=t,e=[],n.O=(t,o,a,r)=>{if(!o){var i=1/0;for(d=0;d<e.length;d++){o=e[d][0],a=e[d][1],r=e[d][2];for(var s=!0,c=0;c<o.length;c++)(!1&r||i>=r)&&Object.keys(n.O).every((e=>n.O[e](o[c])))?o.splice(c--,1):(s=!1,r<i&&(i=r));if(s){e.splice(d--,1);var l=a();void 0!==l&&(t=l)}}return t}r=r||0;for(var d=e.length;d>0&&e[d-1][2]>r;d--)e[d]=e[d-1];e[d]=[o,a,r]},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={960:0,470:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var a,r,i=o[0],s=o[1],c=o[2],l=0;if(i.some((t=>0!==e[t]))){for(a in s)n.o(s,a)&&(n.m[a]=s[a]);if(c)var d=c(n)}for(t&&t(o);l<i.length;l++)r=i[l],n.o(e,r)&&e[r]&&e[r][0](),e[i[l]]=0;return n.O(d)},o=self.webpackChunkneve_pro_addon=self.webpackChunkneve_pro_addon||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var a=n.O(void 0,[470],(()=>n(656)));a=n.O(a)})();