(()=>{var e={184:(e,t)=>{var o;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var o=arguments[t];if(o){var r=typeof o;if("string"===r||"number"===r)e.push(o);else if(Array.isArray(o)){if(o.length){var l=a.apply(null,o);l&&e.push(l)}}else if("object"===r)if(o.toString===Object.prototype.toString)for(var c in o)n.call(o,c)&&o[c]&&e.push(c);else e.push(o.toString())}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(o=function(){return a}.apply(t,[]))||(e.exports=o)}()}},t={};function o(n){var a=t[n];if(void 0!==a)return a.exports;var r=t[n]={exports:{}};return e[n](r,r.exports,o),r.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";const e=window.wp.element,t=window.React;var n=o.n(t);const a=window.wp.components,r=window.wp.i18n;var l=o(184),c=o.n(l);const s=({isOpenDefault:o=!1})=>{var l,s;const[u,d]=(0,e.useState)(o),[i,m]=(0,e.useState)(!1),p=()=>d(!0),v=()=>d(!1),[y,f]=(0,e.useState)("");(0,t.useEffect)((()=>(document.addEventListener("nv-open-cl-modal",p),()=>document.removeEventListener("nv-open-cl-modal",p))),[]);const h=window.neveCustomLayouts.newLayoutUrl,w=new URL(h),[g,E]=(0,e.useState)(w.toString()),b=(0,r.__)("Create a custom layout","neve-pro-addon"),S=({slug:e,layoutData:t})=>n().createElement("button",{className:c()("nv-cl-modal-layout-card",{selected:e===y}),onClick:()=>{(e=>{var t;null===(t=window.tiTrk)||void 0===t||t.with("neve").set("custom-layouts-modal-template-type",{feature:"custom-layouts-modal",featureComponent:"template-type",featureValue:e}),f(e),w.searchParams.set("layout",e),E(w.toString())})(e)}},t.icon&&n().createElement("span",{className:`dashicons ${t.icon}`}),n().createElement("h4",null,t.label),n().createElement("p",null,t.description)),C=({categoryData:e})=>{var t;return n().createElement(n().Fragment,null,n().createElement("h3",null,e.label),n().createElement("div",{className:"nv-cl-modal-layout-list"},null===(t=Object.entries(e.layouts))||void 0===t?void 0:t.map((([e,t])=>n().createElement(S,{key:e,layoutData:t,slug:e})))))};return n().createElement(n().Fragment,null,u&&n().createElement(a.Modal,{title:b,overlayClassName:"nv-cl-modal-overlay",onRequestClose:v,shouldCloseOnEsc:!0,shouldCloseOnClickOutside:!0},n().createElement("div",{className:"nv-cl-modal-header"},(0,r.__)("Select where you want to add your custom layout:","neve-pro-addon")),n().createElement("div",{className:"nv-cl-modal-content"},null===(s=Object.entries(null===(l=window.neveCustomLayouts)||void 0===l?void 0:l.layoutsDisplay))||void 0===s?void 0:s.map((([e,t])=>n().createElement(C,{key:e,categoryData:t})))),n().createElement("div",{className:"nv-cl-modal-footer"},n().createElement(a.Button,{className:"nv-cl-button button-secondary",onClick:v,disabled:i},(0,r.__)("Cancel","neve-pro-addon")),n().createElement(a.Button,{className:"nv-cl-button button-primary",onClick:()=>{var e;null===(e=window.tiTrk)||void 0===e||e.with("neve").set("custom-layouts-modal-predefined-layout",{feature:"custom-layouts-modal",featureComponent:"predefined-layout",featureValue:"true"}),m(!0),location.href=g},disabled:i},(0,r.__)("Add Layout","neve-pro-addon")))))};function u(e){e.preventDefault(),document.dispatchEvent(new window.CustomEvent("nv-open-cl-modal",{detail:{}}))}function d(){!function(){const t=new URL(window.location.href);let o=!!t.searchParams.get("modal");const n=t.searchParams,a=n.has("post_type")&&1===n.size;0===document.querySelectorAll("tr.type-neve_custom_layouts").length&&a&&(o=!0),t.searchParams.set("modal","true");const r=document.querySelector("a.page-title-action");r.setAttribute("href",t.toString()),r.addEventListener("click",u);const l=document.querySelector("#wpbody-content .wrap"),c=document.createElement("div");c.setAttribute("id","nv-cl-modal"),l.append(c),(0,e.render)((0,e.createElement)(s,{isOpenDefault:o}),c)}(),function(){var e;if(null===(e=navigator)||void 0===e||!e.clipboard)return;const t=document.querySelectorAll(".shortcode .cl-copy-button");if(0===t.length)return;const o=new WeakMap;t.forEach((e=>{e.addEventListener("click",(()=>{const t=e.parentElement.querySelector(".cl-column-shortcode");if(!t)return;navigator.clipboard.writeText(t.textContent),o.has(e)&&clearTimeout(o.get(e)),e.classList.add("cl-shortcode-copied");const n=setTimeout((()=>{e.classList.remove("cl-shortcode-copied")}),700);o.set(e,n)}))}))}(),document.querySelectorAll("#the-list tr.type-neve_custom_layouts").forEach((e=>{const t=e.querySelector(".cl-toggle-input");if(!t)return;const o=t.getAttribute("data-post-id");if(!o)return;const n=e.querySelector(".column-title strong");if(n){const e=Array.from(n.childNodes);for(let t=1;t<e.length;t++)n.removeChild(e[t])}t.addEventListener("change",(()=>{var n,a;const r=new FormData;r.append("action","neve_toggle_custom_layout"),r.append("nonce",window.neveCustomLayouts.nonce),r.append("id",o),r.append("status",t.checked?"publish":"draft"),fetch((null===(n=window.wpAjax)||void 0===n||null===(a=n.settings)||void 0===a?void 0:a.url)||"/wp-admin/admin-ajax.php",{method:"POST",body:r}).then((e=>e.json())).then((o=>{o.success||(t.checked=!t.checked,(t=>{const o=e.querySelector(".cl-toggle-error");o&&(o.innerHTML=t)})(o.data))})).catch((()=>{t.checked=!t.checked}))}))}))}"loading"!==document.readyState?d():document.addEventListener("DOMContentLoaded",(function(){d()}))})()})();