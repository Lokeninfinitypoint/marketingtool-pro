!function(){"use strict";var t={};function e(t){return e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},e(t)}function i(t){var i=function(t,i){if("object"!=e(t)||!t)return t;var r=t[Symbol.toPrimitive];if(void 0!==r){var o=r.call(t,i||"default");if("object"!=e(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===i?String:Number)(t)}(t,"string");return"symbol"==e(i)?i:i+""}function r(t,e,r){return(e=i(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}t.n=function(e){var i=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(i,{a:i}),i},t.d=function(e,i){for(var r in i)t.o(i,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:i[r]})},t.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};var o=window.ctEvents,n=t.n(o),c=window.ctFrontend;const s=function(t){if(t.dataset.product_id)return parseInt(t.dataset.product_id);const e=t.closest(".product");if(!e)return null;const i=Array.from(e.classList).find((function(t){return 0===t.indexOf("post-")})).split("-")[1];return parseInt(i)},a=function(t,e,i){if(!t)return[...ct_localizations.blc_ext_wish_list.list.items];const r={};t.querySelectorAll("select[data-attribute_name]").forEach((function(t){const e=t.dataset.attribute_name.replace("attribute_","");r[e]=t.value}));const o={id:e};if("add"===i)return Object.keys(r).length&&(o.attributes=r),[...ct_localizations.blc_ext_wish_list.list.items,o];if("remove"===i){return ct_localizations.blc_ext_wish_list.list.items.filter((function(t){return t.id!==o.id||Object.keys((null==t?void 0:t.attributes)||{}).some((function(e){var i;return(null==o||null===(i=o.attributes)||void 0===i?void 0:i[e])&&t.attributes[e]&&t.attributes[e]!==(null==o?void 0:o.attributes[e])}))}))}},l=function(t,e){const i={id:parseFloat(t)};if("add"===e)return[...ct_localizations.blc_ext_wish_list.list.items,i];if("remove"===e){return ct_localizations.blc_ext_wish_list.list.items.filter((function(t){return t.id!==i.id}))}};function u(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function d(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?u(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):u(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}const b=function(t){let e=['[class*="ct-wishlist-button"]',".ct-wishlist-remove",".wishlist-product-remove > .remove",'.product-mobile-actions > [href*="wishlist-remove"]'].join(", ");[...document.querySelectorAll(e)].map((function(e){e.dataset.buttonState="";if(!(void 0!==e.dataset.variable)){const i=s(e);return void(t.items.some((function(t){return t.id===i}))&&(e.dataset.buttonState="active"))}const i=e.closest(".product");if(i.querySelector(".add_to_cart_button")&&i.querySelector(".add_to_cart_button").getAttribute("href").includes("variation_id")){const r=new URLSearchParams(i.querySelector(".add_to_cart_button").getAttribute("href")),o=parseFloat(r.get("variation_id")),n={};i.querySelectorAll("select[data-attribute_name]").forEach((function(t){const e=t.dataset.attribute_name.replace("attribute_","");n[e]=t.value}));const c={id:o};Object.keys(n).length&&(c.attributes=n),t.items.some((function(t){return t.id===o&&Object.keys((null==t?void 0:t.attributes)||{}).every((function(e){var i;return(null==t||null===(i=t.attributes)||void 0===i?void 0:i[e])&&n[e]&&t.attributes[e]===n[e]}))}))&&(e.dataset.buttonState="active")}}))};ctEvents.on("blocksy:wishlist:sync",(function(){return b(window.ct_localizations.blc_ext_wish_list.list)}));var f=b;function _(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),i.push.apply(i,r)}return i}function m(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?_(Object(i),!0).forEach((function(e){r(t,e,i[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):_(Object(i)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))}))}return t}let p=!1;const y=function(){let t=Object.values(ct_localizations.blc_ext_wish_list.list.items);Array.from(document.querySelectorAll('.ct-header-wishlist, [data-id="wishlist"], [data-shortcut="wishlist"]')).map((function(e){const i=e.querySelector(".ct-dynamic-count-wishlist");i&&t.length!==+i.dataset.count&&(e.classList.remove("ct-added"),e.classList.add("ct-adding"),e.removeAttribute("style"),[...document.querySelectorAll(".ct-dynamic-count-wishlist")].map((function(e){e.innerHTML!==t.length&&(e.innerHTML=t.length,e.dataset.count=t.length)})),setTimeout((function(){e.classList.remove("ct-adding"),e.classList.add("ct-added")})))}))},v=function({operation:t,productId:e,variable:i=!1,el:r,cb:o=function(){}}={}){let c=Object.values(ct_localizations.blc_ext_wish_list.list.items);if(t){let u=e||s(r);r&&(r.classList.contains("ct-wishlist-button-single")&&(c=function(t,e,i){const r=t.closest(".entry-summary");let o=[];if(r.querySelector('[name="variation_id"]')&&r.querySelector('[name="variation_id"]').value&&parseFloat(r.querySelector('[name="variation_id"]').value)&&i){const t=parseFloat(r.querySelector('[name="variation_id"]').value);o=a(r,t,e)}else o=l(s(t),e);return o}(r,t,i)),r.classList.contains("ct-wishlist-button-archive")&&!r.closest(".ct-compare-column")&&(c=function(t,e,i){const r=t.closest(".product");let o=[];if(r.querySelector(".add_to_cart_button")&&r.querySelector(".add_to_cart_button").getAttribute("href").includes("variation_id")&&i){const t=new URLSearchParams(r.querySelector(".add_to_cart_button").getAttribute("href")),i=parseFloat(t.get("variation_id"));o=a(r,i,e)}else o=l(s(t),e);return o}(r,t,i)),r.closest(".ct-compare-column")&&(c=l(u,t)),"remove"===t&&(r.closest(".wishlist-product-remove")||r.closest(".product-mobile-actions"))&&(c=function(t){var e,i;const r=t.closest("tr"),o=r.querySelectorAll("[data-attribute-slug]"),n={id:s(t)},c="yes"===(null===(e=r.querySelector(".variation"))||void 0===e||null===(i=e.dataset)||void 0===i?void 0:i.default);return Array.from(o).length&&!c&&Array.from(o).forEach((function(t){n.attributes=d(d({},n.attributes),{},{[t.dataset.attributeSlug]:t.dataset.attributeVal})})),ct_localizations.blc_ext_wish_list.list.items.filter((function(t){return t.id!==n.id||Object.keys((null==t?void 0:t.attributes)||{}).some((function(e){var i;return(null==n||null===(i=n.attributes)||void 0===i?void 0:i[e])&&t.attributes[e]&&t.attributes[e]!==(null==n?void 0:n.attributes[e])}))}))}(r))),"yes"===window.ct_localizations.blc_ext_wish_list.user_logged_in?fetch(`${ct_localizations.ajax_url}?action=blc_ext_wish_list_sync_likes`,{method:"POST",body:JSON.stringify(m(m({},ct_localizations.blc_ext_wish_list.list),{},{items:c})),headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function({success:e,data:i}){e&&o(t)})):(!function(t,e,i=365){var r;if(i){var o=new Date;o.setTime(o.getTime()+24*i*60*60*1e3),r="; expires="+o.toGMTString()}else r="";document.cookie=t+"="+e+r+"; path=/"}("blc_products_wish_list",JSON.stringify(m(m({},ct_localizations.blc_ext_wish_list.list),{},{items:c}))),setTimeout((function(){o(t)}))),window.ct_localizations.blc_ext_wish_list.list.items=c,n().trigger("blocksy:woocommerce:wish-list-change",{operation:t,productId:u})}y()};(0,c.registerDynamicChunk)("blocksy_ext_woo_extra_wish_list",{mount:function(t,e={}){const{event:i,completeAction:r,initialState:o}=e||{};i?(i.preventDefault(),i.stopPropagation(),v({productId:s(t),el:t,operation:"active"===o||t.classList.contains("remove")?"remove":"add",variable:void 0!==t.dataset.variable,cb:function(e){n().trigger("blocksy:wishlist:sync"),r("add"===e?{finalState:"active"}:{finalState:""}),t.closest(".ct-woocommerce-wishlist-table")&&(1===t.closest("tbody").children.length?location.reload():t.closest("tr").remove())}})):p||(p=!0,fetch(`${ct_localizations.ajax_url}?action=blc_ext_wish_list_get_all_likes`,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"}}).then((function(t){return t.json()})).then((function({success:t,data:e}){window.ct_localizations.blc_ext_wish_list={list:e.likes,user_logged_in:e.user_logged_in},y(),f(e.likes)})))}})}();